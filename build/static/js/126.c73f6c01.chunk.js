"use strict";(self.webpackChunkcloudoria=self.webpackChunkcloudoria||[]).push([[126],{8334:(e,s,n)=>{n.r(s),n.d(s,{default:()=>j});var a=n(5043),l=n(5919),t=n(6685),o=n(9683),i=n(1920),r=n(3216),c=n(47),u=n(8670),d=n(8775),g=n(7912),m=n(9393),p=n(4640),v=n(579);const x=()=>{const[e,s]=(0,a.useState)(""),[n,l]=(0,a.useState)(""),[t,o]=(0,a.useState)(""),[x,j]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!1),[y,N]=(0,a.useState)(""),_=(0,a.useRef)(null),k=(0,a.useRef)(null),A=(0,r.Zp)(),S=(0,c.j)();async function w(){j(!0),await u.A.login(e,n).then((e=>{var s;const n=m.A.responseToUser(e);S((0,g.gV)(n)),S((0,d.J5)(n.root_directory)),localStorage.setItem("token",null===(s=e.data)||void 0===s?void 0:s.access),A("/")})).catch((e=>{var s;console.log(e.response);const n=(null===(s=e.response)||void 0===s?void 0:s.data)||e.message;"\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"===n?o(n):N(n),j(!1)}))}return(0,a.useEffect)((()=>{setTimeout((()=>{h(!0)}),1200)}),[]),(0,a.useEffect)((()=>{var e;null===(e=_.current)||void 0===e||e.focus()}),[f]),(0,v.jsxs)("main",{className:"loginpage_main",children:[(0,v.jsxs)("div",{className:"loginpage_main-container",children:[(0,v.jsxs)("div",{className:"loginpage_main-title",children:[(0,v.jsx)("p",{children:"\u0421 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c!"}),(0,v.jsx)("div",{})]}),f&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.A,{reference:_,value:e,onChange:e=>{o(""),s(e)},error:!!t||"",type:"text",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 e-mail",onKeyDown:e=>{var s;"Enter"===e.key&&(e.preventDefault(),null===(s=k.current)||void 0===s||s.focus())}}),(0,v.jsx)(i.A,{reference:k,value:n,onChange:e=>{o(""),l(e)},error:t,type:"password",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),w())}}),(0,v.jsxs)("div",{className:"loginpage_main-footer",children:[(0,v.jsx)("div",{className:"loginpage_main-loader",children:x&&(0,v.jsx)(p.xQ,{})}),(0,v.jsx)("button",{onClick:w,className:"loginpage_main-confirm",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]}),(0,v.jsx)("div",{className:"loginpage_main-error",children:y})]})},j=()=>(0,v.jsxs)("div",{className:"loginpage",children:[(0,v.jsx)(l.A,{}),(0,v.jsxs)("div",{className:"loginpage_container",children:[(0,v.jsx)(t.A,{type:"login"}),(0,v.jsx)(x,{}),(0,v.jsx)(o.A,{})]})]})}}]);
//# sourceMappingURL=126.c73f6c01.chunk.js.map